{% extends "base.html" %}

{% block title %}GemmaVision | Search Incidents & Intelligence{% endblock %}

{% block content %}
<div class="text-center my-5">
  <h1 class="display-3 fw-bold">
    <span class="text-primary">Gemma</span><span class="text-danger">Vision</span>
  </h1>
  <p class="lead fst-italic text-muted mt-2">
    Discover real-time incidents across networks of smart cameras.
  </p>

  <!-- Search Interface -->
  <div class="row justify-content-center">
    <div class="col-md-8 input-group input-group-lg">
      <input 
        id="search-query"
        type="text" 
        name="query" 
        class="form-control" 
        list="search-suggestions"
        placeholder="Describe what you’re looking for — like an event, place, or what’s happening in the scene."
        required
      >
      <button class="btn btn-outline-primary" id="search-button" hx-get="/search_images" hx-target="#search-results" hx-include="#search-query">
        <i class="bi bi-search"></i> Search
      </button>
    </div>
  </div>
  <p class="text-muted small mt-2 text-center">
    Note: Some potentially sensitive or dangerous results have been intentionally excluded for safety.
  </p>
  <datalist id="search-suggestions">
    <option value="traffic cones and a street person in motorcycle crossing">
    <option value="inside of home picture of jesus open door">
    <option value="a lot of cars in a street blocking">
  </datalist>

  <!-- Incident Category Badges -->
  <div class="mt-4">
    <span class="badge bg-danger me-2">Abuse</span>
    <span class="badge bg-warning text-dark me-2">Burglary</span>
    <span class="badge bg-info text-dark me-2">Robbery</span>
    <span class="badge bg-success me-2">Stealing</span>
    <span class="badge bg-dark me-2">Shooting</span>
    <span class="badge bg-primary me-2">Shoplifting</span>
    <span class="badge bg-secondary me-2">Assault</span>
    <span class="badge bg-danger me-2">Fighting</span>
    <span class="badge bg-warning text-dark me-2">Arson</span>
    <span class="badge bg-secondary me-2">Explosion</span>
    <span class="badge bg-primary me-2">Traffic Accident</span>
  </div>

  <hr class="my-4">

  <!-- Search Results Area -->
  <div id="search-results" class="row g-4 mt-4">
    <!-- Dynamically populated with image cards -->
  </div>
</div>
{% endblock %}
